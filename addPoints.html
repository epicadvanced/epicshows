<!DOCTYPE HTML>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.4.1/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyB62qoHWdEnchYSXU7vy3yy-BDwGtiUzuQ",
	authDomain: "epicadvanced19.firebaseapp.com",
	databaseURL: "https://epicadvanced19.firebaseio.com",
	projectId: "epicadvanced19",
	storageBucket: "epicadvanced19.appspot.com",
	messagingSenderId: "295442314130"
	};
      firebase.initializeApp(config);
      var database = firebase.database();
	    
      //Password Shit
      window.onload = function passwordCheck() {
	   var pass = prompt("What is the password?");
	   
	   if (pass != "jojosiwaslave") {
		   window.history.back();
	   }
      }
    </script>
    <style>
	#backArrow {
	   width: 30px;
	   height: 30px;
           top-margin: 20px;
	}
	body {
           background: "/images/hackerBack.jpg";	
	}
    </style>
</head>
<body>
  <a href="points.html"><img id="backArrow" src="/images/left-arrow.png"></a>
  <br><br>
  <img src="/images/hackerTitle.png">
  <form id="addPoints" style="color: white;">
	    Name: 
	    <input type="text" id="addName"></input><br>
	    Points: 
	    <input type="text" id="addPoint"></input><br>
	    <input type="submit"></input><br>
  </form>

<script>
  //Add Points
	    function setPoints(name, pointsVal) {
		firebase.database().ref('points/' + name.toLowerCase()).once('value').then(function(snapshot) {
			var currentPoints = snapshot.val();
			firebase.database().ref('/points/' + name.toLowerCase()).set(currentPoints + parseInt(pointsVal, 10));
	    	});
	    }
	    
	    $("#addPoints").submit(function(event) {
		event.preventDefault(); 
		var addName = $("#addName").val();
		var addPoints = $("#addPoint").val();
		setPoints(addName, addPoints);
		$("body").append("<p>" + addPoints + " points were added to " + addName + "</p>");
		$("#addName").val("");
		$("#addPoint").val("");
	    });
</script>
</body>
</html>
